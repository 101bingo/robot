"use strict";(self["webpackChunkmonitor_vue_h5"]=self["webpackChunkmonitor_vue_h5"]||[]).push([[611],{4611:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("van-nav-bar",{attrs:{title:"控制"}}),t("van-overlay",{attrs:{show:e.show},on:{click:function(t){e.show=!0}}},[t("van-password-input",{attrs:{value:e.pwdvalue,info:"密码为 4 位数字",length:4,"error-info":e.errorinfo,focused:e.showKeyboard},on:{focus:function(t){e.showKeyboard=!0}}}),t("van-number-keyboard",{staticClass:"numberkeyboards",attrs:{maxlength:4,show:e.showKeyboard},on:{blur:function(t){e.showKeyboard=!1}},model:{value:e.pwdvalue,callback:function(t){e.pwdvalue=t},expression:"pwdvalue"}})],1),t("div",{staticClass:"sliderval"},[t("h2",[e._v("氧限")]),t("van-tag",{attrs:{type:"primary",size:"large"}},[e._v(e._s(e.value))]),t("van-slider",{attrs:{"bar-height":"15px","active-color":"#ee0a24",min:1,max:10,step:.01},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),t("van-button",{staticClass:"commitBtn",attrs:{round:"",loading:e.isLoading,type:"primary",size:"large",text:"设置"},on:{click:e.onSetting}})],1)],1)},a=[],i=s(3822),n=s(8848),r=s(586),l={name:"ToolControl",data(){return{value:this.$store.state.oxygenLimit,show:!0,pwdvalue:"",showKeyboard:!0,errorinfo:"",isLoading:!1}},watch:{$route:{handler:function(e){this.redirect=e.query&&e.query.redirect},immediate:!0},pwdvalue(e){4===e.length&&("9521"===e?this.show=!1:((0,n.Z)("密码错误"),this.pwdvalue=""))}},methods:{...(0,i.OI)(["setOxygenLimit"]),showPwd(){"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((()=>{this.$refs.password.focus()}))},onSetting(){this.isLoading=!0,new Promise(((e,t)=>{let s={oxygenData:this.value,deviceInfo:this.$store.state.deviceInfo};console.log("oxygenData:",s),(0,r.xr)(s).then((e=>{setTimeout((()=>{(0,n.Z)("设置成功"),this.isLoading=!1,this.$store.commit("setOxygenLimit",s)}),1e3)})).catch((e=>{n.Z.fail("后台服务异常！"),console.log("err_test:",e),this.isLoading=!1}))}))}}},u=l,d=s(1001),h=(0,d.Z)(u,o,a,!1,null,"7f3f5d35",null),c=h.exports}}]);
//# sourceMappingURL=611.42d3e3c2.js.map