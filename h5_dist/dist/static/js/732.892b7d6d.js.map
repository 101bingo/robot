{"version":3,"file":"static/js/732.892b7d6d.js","mappings":"wKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,QAAQH,EAAG,cAAc,CAACG,MAAM,CAAC,KAAOL,EAAIM,MAAMC,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIM,MAAO,CAAI,IAAI,CAACJ,EAAG,qBAAqB,CAACG,MAAM,CAAC,MAAQL,EAAIS,SAAS,KAAO,YAAY,OAAS,EAAE,aAAaT,EAAIU,UAAU,QAAUV,EAAIW,cAAcJ,GAAG,CAAC,MAAQ,SAASC,GAAQR,EAAIW,cAAe,CAAI,KAAKT,EAAG,sBAAsB,CAACE,YAAY,kBAAkBC,MAAM,CAAC,UAAY,EAAE,KAAOL,EAAIW,cAAcJ,GAAG,CAAC,KAAO,SAASC,GAAQR,EAAIW,cAAe,CAAK,GAAGC,MAAM,CAACC,MAAOb,EAAIS,SAAUK,SAAS,SAAUC,GAAMf,EAAIS,SAASM,CAAG,EAAEC,WAAW,eAAe,GAAGd,EAAG,MAAM,CAACE,YAAY,aAAa,CAACF,EAAG,KAAK,CAACF,EAAIiB,GAAG,QAAQf,EAAG,UAAU,CAACG,MAAM,CAAC,KAAO,UAAU,KAAO,UAAU,CAACL,EAAIiB,GAAGjB,EAAIkB,GAAGlB,EAAIa,UAAUX,EAAG,aAAa,CAACG,MAAM,CAAC,aAAa,OAAO,eAAe,UAAU,IAAM,EAAE,IAAM,GAAG,KAAO,KAAMO,MAAM,CAACC,MAAOb,EAAIa,MAAOC,SAAS,SAAUC,GAAMf,EAAIa,MAAME,CAAG,EAAEC,WAAW,WAAWd,EAAG,aAAa,CAACE,YAAY,YAAYC,MAAM,CAAC,MAAQ,GAAG,QAAUL,EAAImB,UAAU,KAAO,UAAU,KAAO,QAAQ,KAAO,MAAMZ,GAAG,CAAC,MAAQP,EAAIoB,cAAc,IAAI,EACjqC,EACIC,EAAkB,G,6BCkDtB,GACAC,KAAAA,cACAC,OACA,OACAV,MAAAA,KAAAA,OAAAA,MAAAA,YACAP,MAAAA,EACAG,SAAAA,GACAE,cAAAA,EACAD,UAAAA,GACAS,WAAAA,EAEA,EACAK,MAAAA,CACAC,OAAAA,CACAC,QAAAA,SAAAA,GACA,uCACA,EACAC,WAAAA,GAEAlB,SAAAA,GACA,eACA,WACA,eAEAmB,EAAAA,EAAAA,GAAAA,QAEA,kBAGA,GAEAC,QAAAA,KACA,4BACAC,UACA,+BACA,qBAEA,6BAEA,qBACA,8BAEA,EACAV,YACA,kBACA,qBACA,OACAW,WAAAA,KAAAA,MACAC,WAAAA,KAAAA,OAAAA,MAAAA,aAGAC,EAAAA,EAAAA,IAAAA,GACAC,MAAAA,IACAC,YAAAA,MACAP,EAAAA,EAAAA,GAAAA,QACA,kBACA,yCAGA,QAEAQ,OAAAA,IACAR,EAAAA,EAAAA,KAAAA,WACAS,QAAAA,IAAAA,YAAAA,GACA,oBACA,GAEA,ICvH8P,I,UCQ1PC,GAAY,OACd,EACAvC,EACAsB,GACA,EACA,KACA,WACA,MAIF,EAAeiB,EAAiB,O","sources":["webpack://monitor-vue-h5/./src/views/control/index.vue","webpack://monitor-vue-h5/src/views/control/index.vue","webpack://monitor-vue-h5/./src/views/control/index.vue?d22c","webpack://monitor-vue-h5/./src/views/control/index.vue?1a9d"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"控制\"}}),_c('van-overlay',{attrs:{\"show\":_vm.show},on:{\"click\":function($event){_vm.show = true}}},[_c('van-password-input',{attrs:{\"value\":_vm.pwdvalue,\"info\":\"密码为 4 位数字\",\"length\":4,\"error-info\":_vm.errorinfo,\"focused\":_vm.showKeyboard},on:{\"focus\":function($event){_vm.showKeyboard = true}}}),_c('van-number-keyboard',{staticClass:\"numberkeyboards\",attrs:{\"maxlength\":4,\"show\":_vm.showKeyboard},on:{\"blur\":function($event){_vm.showKeyboard = false}},model:{value:(_vm.pwdvalue),callback:function ($$v) {_vm.pwdvalue=$$v},expression:\"pwdvalue\"}})],1),_c('div',{staticClass:\"sliderval\"},[_c('h2',[_vm._v(\"氧限\")]),_c('van-tag',{attrs:{\"type\":\"primary\",\"size\":\"large\"}},[_vm._v(_vm._s(_vm.value))]),_c('van-slider',{attrs:{\"bar-height\":\"15px\",\"active-color\":\"#ee0a24\",\"min\":1,\"max\":10,\"step\":0.01},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}}),_c('van-button',{staticClass:\"commitBtn\",attrs:{\"round\":\"\",\"loading\":_vm.isLoading,\"type\":\"primary\",\"size\":\"large\",\"text\":\"设置\"},on:{\"click\":_vm.onSetting}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-container\">\r\n    <van-nav-bar title=\"控制\"> </van-nav-bar>\r\n    <!-- <van-progress :percentage=\"50\" stroke-width=\"8\" /> -->\r\n    <van-overlay :show=\"show\" @click=\"show = true\">\r\n      <!-- <h3>请输入密码：</h3> -->\r\n      <!-- 密码输入框 -->\r\n      <van-password-input\r\n        :value=\"pwdvalue\"\r\n        info=\"密码为 4 位数字\"\r\n        :length=\"4\"\r\n        :error-info=\"errorinfo\"\r\n        :focused=\"showKeyboard\"\r\n        @focus=\"showKeyboard = true\"\r\n      />\r\n      <!-- 数字键盘 -->\r\n      <van-number-keyboard\r\n        class=\"numberkeyboards\"\r\n        v-model=\"pwdvalue\"\r\n        :maxlength=\"4\"\r\n        :show=\"showKeyboard\"\r\n        @blur=\"showKeyboard = false\"\r\n      />\r\n    </van-overlay>\r\n    <div class=\"sliderval\">\r\n      <h2>氧限</h2>\r\n      <van-tag type=\"primary\" size=\"large\">{{ value }}</van-tag>\r\n      <van-slider\r\n        v-model=\"value\"\r\n        bar-height=\"15px\"\r\n        active-color=\"#ee0a24\"\r\n        :min=\"1\"\r\n        :max=\"10\"\r\n        :step=\"0.01\"\r\n      />\r\n      <van-button\r\n        class=\"commitBtn\"\r\n        round\r\n        :loading=\"isLoading\"\r\n        type=\"primary\"\r\n        size=\"large\"\r\n        text=\"设置\"\r\n        @click=\"onSetting\"\r\n      />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapMutations } from \"vuex\";\r\nimport { Toast } from \"vant\";\r\nimport { setLimitOxygen } from \"@/api/index\";\r\nexport default {\r\n  name: \"ToolControl\",\r\n  data() {\r\n    return {\r\n      value: this.$store.state.oxygenLimit,\r\n      show: true,\r\n      pwdvalue: \"\",\r\n      showKeyboard: true,\r\n      errorinfo: \"\",\r\n      isLoading: false,\r\n    };\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function (route) {\r\n        this.redirect = route.query && route.query.redirect;\r\n      },\r\n      immediate: true,\r\n    },\r\n    pwdvalue(val) {\r\n      if (val.length === 4) {\r\n        if (val === \"1234\") {\r\n          this.show = false;\r\n        } else {\r\n          Toast(\"密码错误\");\r\n          // this.errorinfo = \"密码错误\";\r\n          this.pwdvalue = \"\";\r\n        }\r\n      }\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"setOxygenLimit\"]),\r\n    showPwd() {\r\n      if (this.passwordType === \"password\") {\r\n        this.passwordType = \"\";\r\n      } else {\r\n        this.passwordType = \"password\";\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.password.focus();\r\n      });\r\n    },\r\n    onSetting() {\r\n      this.isLoading = true;\r\n      new Promise((resolve, reject) => {\r\n        let oxygenData = {\r\n          oxygenData: this.value,\r\n          deviceInfo: this.$store.state.deviceInfo\r\n        };\r\n        // console.log('oxygenData:',oxygenData)\r\n        setLimitOxygen(oxygenData)\r\n          .then((response) => {\r\n            setTimeout(() => {\r\n              Toast(\"设置成功\");\r\n              this.isLoading = false;\r\n              this.$store.commit(\"setOxygenLimit\", oxygenData);\r\n              // this.$store.dispatch('setOxygenLimitAsync', oxygenData);\r\n              // console.log(this.$store.state.oxygenLimit);\r\n            }, 1000);\r\n          })\r\n          .catch((err) => {\r\n            Toast.fail(\"后台服务异常！\");\r\n            console.log(\"err_test:\", err);\r\n            this.isLoading = false;\r\n          });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$bg: #2d3a4b;\r\n$dark_gray: #889aa4;\r\n$light_gray: #eee;\r\n\r\n.sliderval {\r\n  position: fixed;\r\n  top: 30%;\r\n  width: 100%;\r\n  // height: 50%;\r\n}\r\n\r\n.login-container {\r\n  min-height: 100%;\r\n  width: 100%;\r\n  background-color: $bg;\r\n  overflow: hidden;\r\n  .numberkeyboards {\r\n    bottom: 50px;\r\n  }\r\n  .commitBtn {\r\n    margin-top: 100px;\r\n    padding: 10px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=6b59c70a&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=6b59c70a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b59c70a\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","show","on","$event","pwdvalue","errorinfo","showKeyboard","model","value","callback","$$v","expression","_v","_s","isLoading","onSetting","staticRenderFns","name","data","watch","$route","handler","immediate","Toast","methods","showPwd","oxygenData","deviceInfo","setLimitOxygen","then","setTimeout","catch","console","component"],"sourceRoot":""}