{"version":3,"file":"static/js/447.92c9b1b7.js","mappings":"wKAAA,IAAIA,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,MAAQ,UAAUH,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,QAAQC,GAAG,CAAC,MAAQN,EAAIO,kBAAkBC,MAAM,CAACC,MAAOT,EAAIU,OAAQC,SAAS,SAAUC,GAAMZ,EAAIU,OAAOE,CAAG,EAAEC,WAAW,WAAW,CAACX,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAASH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,SAASH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,UAAUH,EAAG,UAAU,CAACG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,SAAS,MAAQL,EAAIc,eAAeR,GAAG,CAAC,MAAQ,SAASS,GAAQf,EAAIgB,gBAAiB,CAAI,KAAKd,EAAG,eAAe,CAACG,MAAM,CAAC,KAAO,QAAQ,iBAAiB,GAAG,WAAWL,EAAIiB,SAAS,WAAW,IAAIC,MAAQZ,GAAG,CAAC,QAAUN,EAAImB,WAAWX,MAAM,CAACC,MAAOT,EAAIgB,eAAgBL,SAAS,SAAUC,GAAMZ,EAAIgB,eAAeJ,CAAG,EAAEC,WAAW,qBAAqB,IAAI,GAAGX,EAAG,YAAY,CAACG,MAAM,CAAC,WAAaL,EAAIoB,aAAa,WAAapB,EAAIqB,eAAe,OAASrB,EAAIsB,iBAAiBhB,GAAG,CAAC,aAAeN,EAAIuB,eAAe,EAC3+B,EACIC,EAAkB,GCFlBzB,EAAS,WAAkB,IAAIC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACuB,MAAMzB,EAAI0B,UAAUC,MAAO,CAAEC,OAAQ5B,EAAI4B,OAAQC,MAAO7B,EAAI6B,QACzI,EACIL,EAAkB,G,8BCAtB,GACEM,OACE,MAAO,CACLC,aAAc,KACdC,gBAAiB,KAErB,EACAC,UACEhC,KAAK+B,iBAAkBE,EAAAA,EAAAA,KAAS,KAC1BjC,KAAKkC,OACPlC,KAAKkC,MAAMC,QACb,GACC,KACHnC,KAAKoC,oBACLpC,KAAKqC,0BACP,EACAC,gBACEtC,KAAKuC,uBACLvC,KAAKwC,6BACP,EAGAC,YACEzC,KAAKoC,oBACLpC,KAAKqC,0BACP,EACAK,cACE1C,KAAKuC,uBACLvC,KAAKwC,6BACP,EACAG,QAAS,CAGPP,oBACEQ,OAAOC,iBAAiB,SAAU7C,KAAK+B,gBACzC,EACAQ,uBACEK,OAAOE,oBAAoB,SAAU9C,KAAK+B,gBAC5C,EACAgB,uBAAuBC,GACE,UAAnBA,EAAEC,cACJjD,KAAK+B,iBAET,EACAM,2BACErC,KAAK8B,aAAeoB,SAASC,uBAAuB,qBAAqB,GACzEnD,KAAK8B,cAAgB9B,KAAK8B,aAAae,iBAAiB,gBAAiB7C,KAAK+C,uBAChF,EACAP,8BACExC,KAAK8B,cAAgB9B,KAAK8B,aAAagB,oBAAoB,gBAAiB9C,KAAK+C,uBACnF,IC9CJK,EAAQA,MAGR,IAAIC,EAAM,IAAIpC,KAAK,KAAM,EAAG,GAExBT,EAAwB,IAAhB8C,KAAKC,SAEjB,OACAC,OAAAA,CAAAA,GACAC,MAAAA,CACAhC,UAAAA,CACAiC,KAAAA,OACAC,QAAAA,SAEA/B,MAAAA,CACA8B,KAAAA,OACAC,QAAAA,QAEAhC,OAAAA,CACA+B,KAAAA,OACAC,QAAAA,SAEAC,WAAAA,CACAF,KAAAA,QACAC,SAAAA,GAEAE,WAAAA,CACAH,KAAAA,MACAC,QAAAA,CACA,2BACA,6BAGAG,WAAAA,CACAJ,KAAAA,MACAC,QAAAA,CACA,2BACA,8BAUA9B,OACA,OACAK,MAAAA,KACA6B,SAAAA,GAEA,EACAC,SAAAA,CACAC,mBACA,oCACA,GAEAC,MAAAA,CACAL,WAAAA,CACAM,QAAAA,GACA,sBACAC,OAAAA,CACA,CACAC,KAAAA,KACAxC,KAAAA,KAIA,GAEAiC,WAAAA,CACAK,QAAAA,GACA,sBACAC,OAAAA,CACA,CACAC,KAAAA,KACAxC,KAAAA,KAIA,GAEAoC,iBAAAA,CACAE,QAAAA,GACAG,QAAAA,IAAAA,eAAAA,GACA,iBACA,IAGAtC,UACA,qBACA,mBAOA,EACAM,gBACA,aAGA,qBACA,gBACAiC,cAAAA,KAAAA,WACA,EACA5B,QAAAA,CACA6B,YACA,uCACA,iBACA,EACAC,aACA,sBACAC,MAAAA,CACA,CACAhB,KAAAA,OACAiB,aAAAA,EACAC,UAAAA,CACAC,MAAAA,SACAC,UAAAA,SAAAA,EAAAA,GAIA,kBAGA,GADA,0CACA,yCACA,4CACA,0CACA,YAEA,kBAEA,GAEAC,UAAAA,CACAC,MAAAA,IAGA,CACAC,UAAAA,EACAvB,KAAAA,OACAiB,aAAAA,EACAO,SAAAA,CAAAC,QAAAA,GACAC,SAAAA,WAGAC,KAAAA,CACA,CACAC,KAAAA,GACAC,MAAAA,GACA5D,OAAAA,OAEA,CACA2D,KAAAA,GACAC,MAAAA,GACAC,IAAAA,MACAC,OAAAA,GACA9D,OAAAA,QAGA+D,YAAAA,CACAC,KAAAA,CACA,CACAC,WAAAA,SAIAC,SAAAA,CACA,CACAb,MAAAA,EACAc,UAAAA,EAGAF,WAAAA,CAAAA,EAAAA,IAEA,CACAlC,KAAAA,SACAoC,UAAAA,EAGAF,WAAAA,CAAAA,EAAAA,KAGAG,QAAAA,CACAC,QAAAA,CACAH,SAAAA,CACAI,WAAAA,QAEAC,QAAAA,CAAAA,EACAC,YAAAA,CAAAA,IAGAC,QAAAA,CACAC,QAAAA,OACAC,gBAAAA,UACAxB,UAAAA,SAAAA,GAEA,mCACA,+BACA,OACAyB,EAAAA,KAAAA,GAAAA,OACAA,EAAAA,OAAAA,EAAAA,WACA,eACAA,EAAAA,KAAAA,GAAAA,OACAC,EAAAA,OAAAA,EAAAA,WACA,eACAA,EAAAA,KAAAA,EAEA,EACAd,YAAAA,CAEAe,WAAAA,GAEAC,QAAAA,CAAAA,EAAAA,KAEAC,MAAAA,CACA,CACAtC,KAAAA,KACAX,KAAAA,QAEAiB,aAAAA,EACAiC,SAAAA,CACA5B,MAAAA,IAGA,CACAX,KAAAA,KACAX,KAAAA,QACAuB,UAAAA,IAIA4B,OAAAA,CAEAhF,KAAAA,CAAAA,KAAAA,OAEAuC,OAAAA,CACA,CACAC,KAAAA,KACAyC,SAAAA,CAEAjF,KAAAA,CACA,CACAwC,KAAAA,KACAsC,MAAAA,KAAAA,iBACAI,MAAAA,CACA/B,KAAAA,OACAI,SAAAA,SACAN,UAAAA,OAAAA,KAAAA,mBACAkC,SAAAA,IAEAC,UAAAA,CACAC,OAAAA,CACAtF,MAAAA,EACAuF,MAAAA,eAMAC,UAAAA,CACAF,OAAAA,CACAC,MAAAA,UAEAF,UAAAA,CACAE,MAAAA,UAEAvF,MAAAA,KAIAyF,QAAAA,EACAC,UAAAA,CAAAA,EACA5D,KAAAA,OAEA7B,KAAAA,KAAAA,WAGA0F,gBAAAA,cAEA,CACAlD,KAAAA,KACAX,KAAAA,OACAkC,WAAAA,EACAK,WAAAA,EACApE,KAAAA,KAAAA,WACAuF,UAAAA,CACAF,OAAAA,CACAC,MAAAA,eAMA,EACAK,aACA,WACAC,EAAAA,UAAAA,aAAAA,KACAA,EAAAA,SAAAA,QACAA,EAAAA,SAAAA,KAAAA,EAAAA,cAEAA,EAAAA,MAAAA,UAAAA,CACArD,OAAAA,CACA,CACAvC,KAAAA,EAAAA,YAGA,GACA,IACA,EAEA6F,aAQA,OANArE,EAAAA,IAAAA,KACA7C,EAAAA,EAAAA,GAAAA,KAAAA,SAAAA,GAGA,yCACA8D,QAAAA,IAAAA,QAAAA,EAAAA,YACA,CACAD,KAAAA,EAAAA,WACA7D,MAAAA,CACA,qDACA,IACA6C,EAAAA,WACA,IACAA,EAAAA,aAAAA,WAAAA,SAAAA,EAAAA,KACA,IACAA,EAAAA,aAAAA,WAAAA,SAAAA,EAAAA,KAGAC,KAAAA,MAAAA,IAGA,ICvV2Q,I,UCOvQqE,GAAY,OACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIF,EAAeA,EAAiB,Q,SCkBhC,GACAtD,KAAAA,WACAuD,WAAAA,CACAC,UAAAA,GAEAhG,OACA,OACAiG,WAAAA,EACArH,OAAAA,EACAsH,WAAAA,EACAC,WAAAA,EACAjH,gBAAAA,EACAF,cAAAA,GACAM,aAAAA,GACAC,eAAAA,GACAJ,SAAAA,KAAAA,cACAiH,UAAAA,EAEA,EACAjE,SAAAA,CACA3C,gBAAAA,WACA,uCACA,cACA,GAEA6C,MAAAA,CACAgE,OAAAA,CACA/D,QAAAA,SAAAA,GACA,uCACA,EACAgE,WAAAA,IAGAxF,QAAAA,CACAyF,UACA,+BACA,qBAEA,6BAEA,qBACA,8BAEA,EACAC,cACA,eACA,2DACA,EACAC,SACA,eACA,2DACA,EACAhH,WAAAA,GACA,iBACA,EACAiH,aAAAA,GACA,iBACA,EACAC,WAAAA,GACA,wCACA,EACAtH,UAAAA,GACA,aACA,2DACA,uBACA,8DACAuH,KAOA,sBACAC,EAAAA,EAAAA,IAAAA,EAAAA,UAAAA,IAAAA,EAAAA,UAAAA,KAAAA,MACAC,IACA,WAAA9G,GAAA,EACA,uBACA,2BAIA,GAEA,EACAvB,iBAAAA,EAAAA,GACA,QACA,UACA,UACAsI,EAAAA,EACA,MACA,UACAA,EAAAA,EACA,MACA,WACAA,EAAAA,GACA,MACA,QACAA,EAAAA,GACA,MAEA,sBACAC,EAAAA,EAAAA,IAAAA,GAAAA,MAAAA,IACA,WAAAhH,GAAA,EACA,uBACA,2BAEA,GAEA,ICjJ8P,ICS1P,GAAY,OACd,EACA/B,EACAyB,GACA,EACA,KACA,WACA,MAIF,EAAe,EAAiB,O","sources":["webpack://monitor-vue-h5/./src/views/history/index.vue","webpack://monitor-vue-h5/./src/views/history/components/LineChart.vue","webpack://monitor-vue-h5/./src/views/history/components/mixins/resize.js","webpack://monitor-vue-h5/src/views/history/components/LineChart.vue","webpack://monitor-vue-h5/./src/views/history/components/LineChart.vue?3d57","webpack://monitor-vue-h5/./src/views/history/components/LineChart.vue?e7bb","webpack://monitor-vue-h5/src/views/history/index.vue","webpack://monitor-vue-h5/./src/views/history/index.vue?268e","webpack://monitor-vue-h5/./src/views/history/index.vue?e697"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"login-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"历史数据\"}}),_c('van-tabs',{attrs:{\"type\":\"line\"},on:{\"click\":_vm.onClickHoursData},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},[_c('van-tab',{attrs:{\"title\":\"1小时\"}}),_c('van-tab',{attrs:{\"title\":\"6小时\"}}),_c('van-tab',{attrs:{\"title\":\"12小时\"}}),_c('van-tab',{attrs:{\"title\":\"自定义\"}},[_c('van-cell',{attrs:{\"title\":\"选择日期区间\",\"value\":_vm.canlendarData},on:{\"click\":function($event){_vm.isShowCalendar = true}}}),_c('van-calendar',{attrs:{\"type\":\"range\",\"allow-same-day\":\"\",\"min-date\":_vm.startMin,\"max-date\":new Date()},on:{\"confirm\":_vm.onConfirm},model:{value:(_vm.isShowCalendar),callback:function ($$v) {_vm.isShowCalendar=$$v},expression:\"isShowCalendar\"}})],1)],1),_c('LineChart',{attrs:{\"testData11\":_vm.testresponse,\"temperData\":_vm.tempratureData,\"height\":_vm.calculateHeight},on:{\"temperChange\":_vm.updateTemp}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{class:_vm.className,style:({ height: _vm.height, width: _vm.width })})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { debounce } from '@/utils'\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      $_sidebarElm: null,\r\n      $_resizeHandler: null\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$_resizeHandler = debounce(() => {\r\n      if (this.chart) {\r\n        this.chart.resize()\r\n      }\r\n    }, 100)\r\n    this.$_initResizeEvent()\r\n    this.$_initSidebarResizeEvent()\r\n  },\r\n  beforeDestroy() {\r\n    this.$_destroyResizeEvent()\r\n    this.$_destroySidebarResizeEvent()\r\n  },\r\n  // to fixed bug when cached by keep-alive\r\n  // https://github.com/PanJiaChen/vue-element-admin/issues/2116\r\n  activated() {\r\n    this.$_initResizeEvent()\r\n    this.$_initSidebarResizeEvent()\r\n  },\r\n  deactivated() {\r\n    this.$_destroyResizeEvent()\r\n    this.$_destroySidebarResizeEvent()\r\n  },\r\n  methods: {\r\n    // use $_ for mixins properties\r\n    // https://vuejs.org/v2/style-guide/index.html#Private-property-names-essential\r\n    $_initResizeEvent() {\r\n      window.addEventListener('resize', this.$_resizeHandler)\r\n    },\r\n    $_destroyResizeEvent() {\r\n      window.removeEventListener('resize', this.$_resizeHandler)\r\n    },\r\n    $_sidebarResizeHandler(e) {\r\n      if (e.propertyName === 'width') {\r\n        this.$_resizeHandler()\r\n      }\r\n    },\r\n    $_initSidebarResizeEvent() {\r\n      this.$_sidebarElm = document.getElementsByClassName('sidebar-container')[0]\r\n      this.$_sidebarElm && this.$_sidebarElm.addEventListener('transitionend', this.$_sidebarResizeHandler)\r\n    },\r\n    $_destroySidebarResizeEvent() {\r\n      this.$_sidebarElm && this.$_sidebarElm.removeEventListener('transitionend', this.$_sidebarResizeHandler)\r\n    }\r\n  }\r\n}\r\n","<template>\r\n  <div :class=\"className\" :style=\"{ height: height, width: width }\" />\r\n</template>\r\n\r\n<script>\r\nimport * as echarts from \"echarts\";\r\nrequire(\"echarts/theme/macarons\"); // echarts theme\r\nimport resize from \"./mixins/resize\";\r\n\r\nlet now = new Date(1997, 9, 3);\r\n// let oneDay = 24 * 3600 * 1000;\r\nlet value = Math.random() * 1000;\r\n\r\nexport default {\r\n  mixins: [resize],\r\n  props: {\r\n    className: {\r\n      type: String,\r\n      default: \"chart\",\r\n    },\r\n    width: {\r\n      type: String,\r\n      default: \"100%\",\r\n    },\r\n    height: {\r\n      type: String,\r\n      default: \"600px\",\r\n    },\r\n    autoResize: {\r\n      type: Boolean,\r\n      default: true,\r\n    },\r\n    testData11: {\r\n      type: Array,\r\n      default: [\r\n        [\"2022-11-09 17:54:43\", 11],\r\n        [\"2022-11-09 17:56:43\", 13],\r\n      ],\r\n    },\r\n    temperData: {\r\n      type: Array,\r\n      default: [\r\n        [\"2022-11-09 17:54:43\", 11],\r\n        [\"2022-11-09 17:56:43\", 13],\r\n      ],\r\n    },\r\n    // oxygenData: String,\r\n    // temprature: String\r\n    // chartData: {\r\n    //   type: Object,\r\n    //   required: true,\r\n    // },\r\n  },\r\n  data() {\r\n    return {\r\n      chart: null,\r\n      testData: [],\r\n    };\r\n  },\r\n  computed:{\r\n    livedOxygenLimit(){\r\n      return this.$store.state.oxygenLimit;\r\n    }\r\n  },\r\n  watch: {\r\n    testData11: {\r\n      handler(val) {\r\n        this.chart.setOption({\r\n          series: [\r\n            {\r\n              name: \"溶氧\",\r\n              data: val,\r\n            },\r\n          ],\r\n        });\r\n      },\r\n    },\r\n    temperData: {\r\n      handler(val) {\r\n        this.chart.setOption({\r\n          series: [\r\n            {\r\n              name: \"温度\",\r\n              data: val,\r\n            },\r\n          ],\r\n        });\r\n      },\r\n    },\r\n    livedOxygenLimit:{\r\n      handler(val) {\r\n        console.log('oxygenLimit:', val)\r\n        this.setOptions()\r\n      },\r\n    }\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.initChart();\r\n    });\r\n    // console.log(\"testdata:\", this.testData11);\r\n    // for (var i = 0; i < 6; i++) {\r\n    //   this.testData.push(this.randomData());\r\n    // }\r\n    // this.createData();\r\n  },\r\n  beforeDestroy() {\r\n    if (!this.chart) {\r\n      return;\r\n    }\r\n    this.chart.dispose();\r\n    this.chart = null;\r\n    clearInterval(this.dataTimer);\r\n  },\r\n  methods: {\r\n    initChart() {\r\n      this.chart = echarts.init(this.$el, \"macarons\");\r\n      this.setOptions();\r\n    },\r\n    setOptions() {\r\n      this.chart.setOption({\r\n        xAxis: [\r\n          {\r\n            type: \"time\",\r\n            boundaryGap: false,\r\n            axisLabel: {\r\n              align: \"center\",\r\n              formatter: function (value, index) {\r\n                // 格式化成时分秒\r\n                // console.log('index:', index)\r\n                // console.log(\"xaxis:\", value);\r\n                let date = new Date(value);\r\n                // console.log(date);\r\n                let nowDay = date.getMinutes().toString().padStart(2, \"0\");\r\n                let nowHour = date.getHours().toString().padStart(2, \"0\");\r\n                let nowMin = date.getMinutes().toString().padStart(2, \"0\");\r\n                let nowSeconds = date.getSeconds().toString().padStart(2, \"0\");\r\n                var texts = [nowHour, nowMin];\r\n                // console.log(texts);\r\n                return texts.join(\":\");\r\n                // return nowSeconds.toString();\r\n              },\r\n            },\r\n            splitLine: {\r\n              show: false,\r\n            },\r\n          },\r\n          {\r\n            gridIndex: 1,\r\n            type: \"time\",\r\n            boundaryGap: false,\r\n            axisLine: { onZero: true },\r\n            position: \"bottom\",\r\n          },\r\n        ],\r\n        grid: [\r\n          {\r\n            left: 30,\r\n            right: 20,\r\n            height: \"50%\",\r\n          },\r\n          {\r\n            left: 30,\r\n            right: 20,\r\n            top: \"65%\",\r\n            bottom: 20,\r\n            height: \"35%\",\r\n          },\r\n        ],\r\n        axisPointer: {\r\n          link: [\r\n            {\r\n              xAxisIndex: \"all\",\r\n            },\r\n          ],\r\n        },\r\n        dataZoom: [\r\n          {\r\n            show: false,\r\n            realtime: true,\r\n            // start: 30,\r\n            // end: 70,\r\n            xAxisIndex: [0, 1],\r\n          },\r\n          {\r\n            type: \"inside\",\r\n            realtime: true,\r\n            // start: 30,\r\n            // end: 70,\r\n            xAxisIndex: [0, 1],\r\n          },\r\n        ],\r\n        toolbox: {\r\n          feature: {\r\n            dataZoom: {\r\n              yAxisIndex: \"none\",\r\n            },\r\n            restore: {},\r\n            saveAsImage: {},\r\n          },\r\n        },\r\n        tooltip: {\r\n          trigger: \"axis\",\r\n          backgroundColor: \"#D38359\",\r\n          formatter: function (params) {\r\n            // console.log(params);\r\n            let oxygenobj = params[0].axisIndex===0 ? params[0] :params[1]\r\n            let temperobj = params[0].axisIndex===1 ? params[0] :params[1]\r\n            return (\r\n              oxygenobj.data[0] + \"<br>\"\r\n              + oxygenobj.marker + oxygenobj.seriesName\r\n              + \"&emsp;&emsp;\"\r\n              + oxygenobj.data[1] + \"<br>\"\r\n              + temperobj.marker + temperobj.seriesName\r\n              + \"&emsp;&emsp;\"\r\n              + temperobj.data[1]\r\n            );\r\n          },\r\n          axisPointer: {\r\n            // type: \"cross\",\r\n            animation: false,\r\n          },\r\n          padding: [5, 10],\r\n        },\r\n        yAxis: [\r\n          {\r\n            name: \"溶氧\",\r\n            type: \"value\",\r\n            // boundaryGap: [0, \"100%\"],\r\n            boundaryGap: false,\r\n            axisTick: {\r\n              show: false,\r\n            },\r\n          },\r\n          {\r\n            name: \"温度\",\r\n            type: \"value\",\r\n            gridIndex: 1,\r\n            // inverse: true,\r\n          },\r\n        ],\r\n        legend: {\r\n          // data: [\"expected\", \"actual\"],\r\n          data: [\"溶氧\",\"温度\"],\r\n        },\r\n        series: [\r\n          {\r\n            name: \"溶氧\",\r\n            markLine: {\r\n              //最大值和最小值\r\n              data: [\r\n                {\r\n                  name: \"阈值\",\r\n                  yAxis: this.livedOxygenLimit, //阈值设置\r\n                  label: {\r\n                    show: \"true\",\r\n                    position: \"middle\",\r\n                    formatter: `溶氧红线${this.livedOxygenLimit}`,\r\n                    fontSize: 20,\r\n                  },\r\n                  lineStyle: {\r\n                    normal: {\r\n                      width: 2,\r\n                      color: \"#FF5D1D\",\r\n                    },\r\n                  },\r\n                },\r\n              ],\r\n            },\r\n            itemStyle: {\r\n              normal: {\r\n                color: \"#64EDE0\",\r\n                // color: \"#1EED8E\",\r\n                lineStyle: {\r\n                  color: \"#FF005A\",\r\n                  // color: \"#1EED8E\",\r\n                  width: 2,\r\n                },\r\n              },\r\n            },\r\n            smooth: true,\r\n            areaStyle: {},\r\n            type: \"line\",\r\n            // data: expectedData,\r\n            data: this.testData11,\r\n            // data: [['2022-11-09 17:54:43',11],['2022-11-09 17:55:43',12],['2022-11-09 17:56:43',15]],\r\n            // animationDuration: 2800,\r\n            animationEasing: \"cubicInOut\",\r\n          },\r\n          {\r\n            name: \"温度\",\r\n            type: \"line\",\r\n            xAxisIndex: 1,\r\n            yAxisIndex: 1,\r\n            data: this.temperData,\r\n            itemStyle:{\r\n              normal:{\r\n                color:\"#8ACF62\"\r\n              }\r\n            }\r\n          },\r\n        ],\r\n      });\r\n    },\r\n    createData() {\r\n      let that = this;\r\n      that.dataTimer = setInterval(() => {\r\n        that.testData.shift();\r\n        that.testData.push(that.randomData());\r\n        // console.log('testdata:', that.testData)\r\n        that.chart.setOption({\r\n          series: [\r\n            {\r\n              data: that.testData,\r\n            },\r\n          ],\r\n        });\r\n      }, 1000);\r\n    },\r\n\r\n    randomData() {\r\n      // now = new Date(+now + oneDay);\r\n      now = new Date();\r\n      value = value + Math.random() * 21 - 10;\r\n      // console.log('value:', value)\r\n      // this.oxygenData = value;\r\n      this.$emit(\"temperChange\", Math.round(value));\r\n      console.log(\"name:\", now.toString());\r\n      return {\r\n        name: now.toString(),\r\n        value: [\r\n          [now.getFullYear(), now.getMonth(), now.getDate()].join(\"/\") +\r\n            \" \" +\r\n            now.getHours() +\r\n            \":\" +\r\n            now.getMinutes().toString().padStart(2, \"0\") +\r\n            \":\" +\r\n            now.getSeconds().toString().padStart(2, \"0\"),\r\n          // [now.getHours(), now.getMinutes(), now.getSeconds()].join(\":\"),\r\n          // now.toString(),\r\n          Math.round(value),\r\n        ],\r\n      };\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LineChart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LineChart.vue?vue&type=template&id=12deeb25&\"\nimport script from \"./LineChart.vue?vue&type=script&lang=js&\"\nexport * from \"./LineChart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"login-container\">\r\n    <van-nav-bar title=\"历史数据\"> </van-nav-bar>\r\n    <van-tabs v-model=\"active\" type=\"line\" @click=\"onClickHoursData\">\r\n      <van-tab title=\"1小时\"></van-tab>\r\n      <van-tab title=\"6小时\"></van-tab>\r\n      <van-tab title=\"12小时\"></van-tab>\r\n      <van-tab title=\"自定义\">\r\n        <van-cell\r\n          title=\"选择日期区间\"\r\n          :value=\"canlendarData\"\r\n          @click=\"isShowCalendar = true\"\r\n        />\r\n        <van-calendar\r\n          v-model=\"isShowCalendar\"\r\n          type=\"range\"\r\n          allow-same-day\r\n          :min-date=\"startMin\"\r\n          :max-date=\"new Date()\"\r\n          @confirm=\"onConfirm\"\r\n        />\r\n      </van-tab>\r\n    </van-tabs>\r\n    <LineChart\r\n      v-on:temperChange=\"updateTemp\"\r\n      :testData11=\"testresponse\"\r\n      :temperData=\"tempratureData\"\r\n      :height=\"calculateHeight\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport LineChart from \"./components/LineChart\";\r\nimport { getDataHours, getDataDays } from \"@/api/index\";\r\n\r\nexport default {\r\n  name: \"HomePage\",\r\n  components: {\r\n    LineChart,\r\n  },\r\n  data() {\r\n    return {\r\n      ischecked: false,\r\n      active: 0,\r\n      oxygenData: 0,\r\n      temprature: 0,\r\n      isShowCalendar: false,\r\n      canlendarData: \"\",\r\n      testresponse: [],\r\n      tempratureData: [],\r\n      startMin: this.setStartMin(),\r\n      loadFlag: false\r\n    };\r\n  },\r\n  computed: {\r\n    calculateHeight: function () {\r\n      let chartheight = window.screen.height - 46 - 48 - 50 - 40;\r\n      return `${chartheight}px`;\r\n    },\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler: function (route) {\r\n        this.redirect = route.query && route.query.redirect;\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    showPwd() {\r\n      if (this.passwordType === \"password\") {\r\n        this.passwordType = \"\";\r\n      } else {\r\n        this.passwordType = \"password\";\r\n      }\r\n      this.$nextTick(() => {\r\n        this.$refs.password.focus();\r\n      });\r\n    },\r\n    setStartMin() {\r\n      var now = new Date();\r\n      return new Date(now.getFullYear(), now.getMonth() - 6, now.getDate());\r\n    },\r\n    endMax() {\r\n      var now = new Date();\r\n      return new Date(now.getFullYear(), now.getMonth() + 6, now.getDate());\r\n    },\r\n    updateTemp(e) {\r\n      this.temprature = e;\r\n    },\r\n    updateOxygen(e) {\r\n      this.oxygenData = e;\r\n    },\r\n    formatDate(date) {\r\n      return `${date.getMonth() + 1}/${date.getDate()}`;\r\n    },\r\n    onConfirm(date) {\r\n      const [start, end] = date;\r\n      let aend = new Date(end.getFullYear(), end.getMonth(), end.getDate() + 1);\r\n      this.isShowCalendar = false;\r\n      this.canlendarData = `${this.formatDate(start)} - ${this.formatDate(\r\n        end\r\n      )}`;\r\n      // console.log(\"start:\", typeof start.valueOf());\r\n      // console.log(start.valueOf());\r\n      // console.log(\"end:\", typeof aend);\r\n      // console.log(start.valueOf() / 1000);\r\n      // this.loadFlag = false;\r\n      new Promise((resolve, reject) => {\r\n        getDataDays(start.valueOf() / 1000, aend.valueOf() / 1000).then(\r\n          (response) => {\r\n            const { data } = response;\r\n            this.testresponse = data[0]; //氧分时间数据\r\n            this.tempratureData = data[1]; //温度时间数据\r\n            // this.loadFlag = true;\r\n            // console.log(\"data:\", response);\r\n          }\r\n        );\r\n      });\r\n    },\r\n    onClickHoursData(name, title) {\r\n      let hours = 1;\r\n      switch (title) {\r\n        case \"1小时\":\r\n          hours = 1;\r\n          break;\r\n        case \"6小时\":\r\n          hours = 6;\r\n          break;\r\n        case \"12小时\":\r\n          hours = 12;\r\n          break;\r\n        default:\r\n          hours = 24;\r\n          break;\r\n      }\r\n      new Promise((resolve, reject) => {\r\n        getDataHours(hours).then((response) => {\r\n          const { data } = response;\r\n          this.testresponse = data[0]; //氧分时间数据\r\n          this.tempratureData = data[1]; //温度时间数据\r\n          // console.log(\"data:\", data);\r\n        });\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n/* 修复input 背景不协调 和光标变色 */\r\n/* Detail see https://github.com/PanJiaChen/vue-element-admin/pull/927 */\r\n\r\n$bg: #283443;\r\n$light_gray: #fff;\r\n$cursor: #fff;\r\n\r\n@supports (-webkit-mask: none) and (not (cater-color: $cursor)) {\r\n  .login-container .el-input input {\r\n    color: $cursor;\r\n  }\r\n}\r\n\r\n/* reset element-ui css */\r\n.login-container {\r\n  .el-input {\r\n    display: inline-block;\r\n    height: 47px;\r\n    width: 85%;\r\n\r\n    input {\r\n      background: transparent;\r\n      border: 0px;\r\n      -webkit-appearance: none;\r\n      border-radius: 0px;\r\n      padding: 12px 5px 12px 15px;\r\n      color: $light_gray;\r\n      height: 47px;\r\n      caret-color: $cursor;\r\n\r\n      &:-webkit-autofill {\r\n        box-shadow: 0 0 0px 1000px $bg inset !important;\r\n        -webkit-text-fill-color: $cursor !important;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-form-item {\r\n    border: 1px solid rgba(255, 255, 255, 0.1);\r\n    background: rgba(0, 0, 0, 0.1);\r\n    border-radius: 5px;\r\n    color: #454545;\r\n  }\r\n}\r\n</style>\r\n\r\n<style lang=\"scss\" scoped>\r\n$bg: #2d3a4b;\r\n$dark_gray: #889aa4;\r\n$light_gray: #eee;\r\n\r\n.login-container {\r\n  min-height: 100%;\r\n  width: 100%;\r\n  background-color: $bg;\r\n  overflow: hidden;\r\n\r\n  .login-form {\r\n    position: relative;\r\n    width: 520px;\r\n    max-width: 100%;\r\n    padding: 160px 35px 0;\r\n    margin: 0 auto;\r\n    overflow: hidden;\r\n  }\r\n\r\n  .tips {\r\n    font-size: 14px;\r\n    color: #fff;\r\n    margin-bottom: 10px;\r\n\r\n    span {\r\n      &:first-of-type {\r\n        margin-right: 16px;\r\n      }\r\n    }\r\n  }\r\n\r\n  .svg-container {\r\n    padding: 6px 5px 6px 15px;\r\n    color: $dark_gray;\r\n    vertical-align: middle;\r\n    width: 30px;\r\n    display: inline-block;\r\n  }\r\n\r\n  .title-container {\r\n    position: relative;\r\n\r\n    .title {\r\n      font-size: 26px;\r\n      color: $light_gray;\r\n      margin: 0px auto 40px auto;\r\n      text-align: center;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .show-pwd {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 7px;\r\n    font-size: 16px;\r\n    color: $dark_gray;\r\n    cursor: pointer;\r\n    user-select: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=495cd424&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=495cd424&prod&lang=scss&\"\nimport style1 from \"./index.vue?vue&type=style&index=1&id=495cd424&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"495cd424\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","on","onClickHoursData","model","value","active","callback","$$v","expression","canlendarData","$event","isShowCalendar","startMin","Date","onConfirm","testresponse","tempratureData","calculateHeight","updateTemp","staticRenderFns","class","className","style","height","width","data","$_sidebarElm","$_resizeHandler","mounted","debounce","chart","resize","$_initResizeEvent","$_initSidebarResizeEvent","beforeDestroy","$_destroyResizeEvent","$_destroySidebarResizeEvent","activated","deactivated","methods","window","addEventListener","removeEventListener","$_sidebarResizeHandler","e","propertyName","document","getElementsByClassName","require","now","Math","random","mixins","props","type","default","autoResize","testData11","temperData","testData","computed","livedOxygenLimit","watch","handler","series","name","console","clearInterval","initChart","setOptions","xAxis","boundaryGap","axisLabel","align","formatter","splitLine","show","gridIndex","axisLine","onZero","position","grid","left","right","top","bottom","axisPointer","link","xAxisIndex","dataZoom","realtime","toolbox","feature","yAxisIndex","restore","saveAsImage","tooltip","trigger","backgroundColor","oxygenobj","temperobj","animation","padding","yAxis","axisTick","legend","markLine","label","fontSize","lineStyle","normal","color","itemStyle","smooth","areaStyle","animationEasing","createData","that","randomData","component","components","LineChart","ischecked","oxygenData","temprature","loadFlag","$route","immediate","showPwd","setStartMin","endMax","updateOxygen","formatDate","end","getDataDays","response","hours","getDataHours"],"sourceRoot":""}